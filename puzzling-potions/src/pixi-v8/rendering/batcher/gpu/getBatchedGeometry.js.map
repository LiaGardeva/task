{"version":3,"file":"getBatchedGeometry.js","sources":["../../../../src/rendering/batcher/gpu/getBatchedGeometry.ts"],"sourcesContent":["import { Buffer } from '../../renderers/shared/buffer/Buffer';\nimport { BufferUsage } from '../../renderers/shared/buffer/const';\nimport { Geometry } from '../../renderers/shared/geometry/Geometry';\n\nconst placeHolderBufferData = new Float32Array(1);\nconst placeHolderIndexData = new Uint32Array(1);\n\nexport function getBatchedGeometry(): Geometry\n{\n    const vertexSize = 6;\n\n    const attributeBuffer = new Buffer({\n        data: placeHolderBufferData,\n        label: 'attribute-batch-buffer',\n        usage: BufferUsage.VERTEX | BufferUsage.COPY_DST,\n    });\n\n    const indexBuffer = new Buffer({\n        data: placeHolderIndexData,\n        label: 'index-batch-buffer',\n        usage: BufferUsage.INDEX | BufferUsage.COPY_DST, // | BufferUsage.STATIC,\n    });\n\n    const stride = vertexSize * 4;\n\n    const geometry = new Geometry({\n        attributes: {\n            aPosition: {\n                buffer: attributeBuffer,\n                shaderLocation: 0,\n                format: 'float32x2',\n                stride,\n                offset: 0,\n            },\n            aUV: {\n                buffer: attributeBuffer,\n                shaderLocation: 1,\n                format: 'float32x2',\n                stride,\n                offset: 2 * 4,\n            },\n            aColor: {\n                buffer: attributeBuffer,\n                shaderLocation: 2,\n                format: 'unorm8x4',\n                stride,\n                offset: 4 * 4,\n            },\n            aTextureId: {\n                buffer: attributeBuffer,\n                shaderLocation: 3,\n                format: 'float32',\n                stride,\n                offset: 5 * 4,\n            },\n        },\n        indexBuffer,\n    });\n\n    return geometry;\n}\n"],"names":["Buffer","BufferUsage","Geometry"],"mappings":";;;;;;;;AAIA,MAAM,qBAAA,GAAwB,IAAI,YAAA,CAAa,CAAC,CAAA,CAAA;AAChD,MAAM,oBAAA,GAAuB,IAAI,WAAA,CAAY,CAAC,CAAA,CAAA;AAEvC,SAAS,kBAChB,GAAA;AACI,EAAA,MAAM,UAAa,GAAA,CAAA,CAAA;AAEnB,EAAM,MAAA,eAAA,GAAkB,IAAIA,aAAO,CAAA;AAAA,IAC/B,IAAM,EAAA,qBAAA;AAAA,IACN,KAAO,EAAA,wBAAA;AAAA,IACP,KAAA,EAAOC,kBAAY,CAAA,MAAA,GAASA,kBAAY,CAAA,QAAA;AAAA,GAC3C,CAAA,CAAA;AAED,EAAM,MAAA,WAAA,GAAc,IAAID,aAAO,CAAA;AAAA,IAC3B,IAAM,EAAA,oBAAA;AAAA,IACN,KAAO,EAAA,oBAAA;AAAA,IACP,KAAA,EAAOC,kBAAY,CAAA,KAAA,GAAQA,kBAAY,CAAA,QAAA;AAAA;AAAA,GAC1C,CAAA,CAAA;AAED,EAAA,MAAM,SAAS,UAAa,GAAA,CAAA,CAAA;AAE5B,EAAM,MAAA,QAAA,GAAW,IAAIC,iBAAS,CAAA;AAAA,IAC1B,UAAY,EAAA;AAAA,MACR,SAAW,EAAA;AAAA,QACP,MAAQ,EAAA,eAAA;AAAA,QACR,cAAgB,EAAA,CAAA;AAAA,QAChB,MAAQ,EAAA,WAAA;AAAA,QACR,MAAA;AAAA,QACA,MAAQ,EAAA,CAAA;AAAA,OACZ;AAAA,MACA,GAAK,EAAA;AAAA,QACD,MAAQ,EAAA,eAAA;AAAA,QACR,cAAgB,EAAA,CAAA;AAAA,QAChB,MAAQ,EAAA,WAAA;AAAA,QACR,MAAA;AAAA,QACA,QAAQ,CAAI,GAAA,CAAA;AAAA,OAChB;AAAA,MACA,MAAQ,EAAA;AAAA,QACJ,MAAQ,EAAA,eAAA;AAAA,QACR,cAAgB,EAAA,CAAA;AAAA,QAChB,MAAQ,EAAA,UAAA;AAAA,QACR,MAAA;AAAA,QACA,QAAQ,CAAI,GAAA,CAAA;AAAA,OAChB;AAAA,MACA,UAAY,EAAA;AAAA,QACR,MAAQ,EAAA,eAAA;AAAA,QACR,cAAgB,EAAA,CAAA;AAAA,QAChB,MAAQ,EAAA,SAAA;AAAA,QACR,MAAA;AAAA,QACA,QAAQ,CAAI,GAAA,CAAA;AAAA,OAChB;AAAA,KACJ;AAAA,IACA,WAAA;AAAA,GACH,CAAA,CAAA;AAED,EAAO,OAAA,QAAA,CAAA;AACX;;;;"}