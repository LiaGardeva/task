{"version":3,"file":"FilterEffect.js","sources":["../../../src/rendering/filters/FilterEffect.ts"],"sourcesContent":["import type { Effect } from '../scene/Effect';\nimport type { Filter } from './Filter';\n\nexport class FilterEffect implements Effect\n{\n    filters: Filter[];\n    pipe = 'filter';\n    priority = 1;\n\n    constructor(options?: {filters: Filter[]})\n    {\n        this.filters = options?.filters;\n    }\n\n    destroy(): void\n    {\n        for (let i = 0; i < this.filters.length; i++)\n        {\n            this.filters[i].destroy();\n        }\n\n        this.filters = null;\n    }\n\n    // addBounds(_bounds: Bounds): void\n    // {\n    //     // TODO do we take into account padding?\n    // }\n\n    // addLocalBounds(_bounds: Bounds, _localRoot: Container<any>): void\n    // {\n    //     // nothing?? :D\n    //     // lets see if this need to exist in time!\n    // }\n}\n\nconst filterEffectsPool: FilterEffect[] = [];\n\nexport function getFilterEffect(filters: Filter[])\n{\n    const filterEffect = filterEffectsPool.pop() || new FilterEffect();\n\n    filterEffect.filters = filters;\n\n    return filterEffect;\n}\n\nexport function returnFilterEffect(effect: FilterEffect)\n{\n    effect.filters = null;\n\n    filterEffectsPool.push(effect);\n}\n"],"names":[],"mappings":";;;;AAGO,MAAM,YACb,CAAA;AAAA,EAKI,YAAY,OACZ,EAAA;AAJA,IAAO,IAAA,CAAA,IAAA,GAAA,QAAA,CAAA;AACP,IAAW,IAAA,CAAA,QAAA,GAAA,CAAA,CAAA;AAIP,IAAA,IAAA,CAAK,UAAU,OAAS,EAAA,OAAA,CAAA;AAAA,GAC5B;AAAA,EAEA,OACA,GAAA;AACI,IAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,IAAK,CAAA,OAAA,CAAQ,QAAQ,CACzC,EAAA,EAAA;AACI,MAAK,IAAA,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,OAAQ,EAAA,CAAA;AAAA,KAC5B;AAEA,IAAA,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;AAAA,GACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYJ,CAAA;AAEA,MAAM,oBAAoC,EAAC,CAAA;AAEpC,SAAS,gBAAgB,OAChC,EAAA;AACI,EAAA,MAAM,YAAe,GAAA,iBAAA,CAAkB,GAAI,EAAA,IAAK,IAAI,YAAa,EAAA,CAAA;AAEjE,EAAA,YAAA,CAAa,OAAU,GAAA,OAAA,CAAA;AAEvB,EAAO,OAAA,YAAA,CAAA;AACX,CAAA;AAEO,SAAS,mBAAmB,MACnC,EAAA;AACI,EAAA,MAAA,CAAO,OAAU,GAAA,IAAA,CAAA;AAEjB,EAAA,iBAAA,CAAkB,KAAK,MAAM,CAAA,CAAA;AACjC;;;;;;"}