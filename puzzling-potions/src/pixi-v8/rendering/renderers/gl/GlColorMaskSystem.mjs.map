{"version":3,"file":"GlColorMaskSystem.mjs","sources":["../../../../src/rendering/renderers/gl/GlColorMaskSystem.ts"],"sourcesContent":["import { ExtensionType } from '../../../extensions/Extensions';\n\nimport type { System } from '../shared/system/System';\nimport type { WebGLRenderer } from './WebGLRenderer';\n\nexport class GlColorMaskSystem implements System\n{\n    /** @ignore */\n    static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n        ],\n        name: 'colorMask',\n    } as const;\n\n    private renderer: WebGLRenderer;\n    private colorMaskCache = 0b1111;\n\n    constructor(renderer: WebGLRenderer)\n    {\n        this.renderer = renderer;\n    }\n\n    setMask(colorMask: number)\n    {\n        if (this.colorMaskCache === colorMask) return;\n        this.colorMaskCache = colorMask;\n\n        this.renderer.gl.colorMask(\n            !!(colorMask & 0b1000),\n            !!(colorMask & 0b0100),\n            !!(colorMask & 0b0010),\n            !!(colorMask & 0b0001)\n        );\n    }\n\n    destroy()\n    {\n        // boom\n    }\n}\n"],"names":[],"mappings":";;AAKO,MAAM,iBACb,CAAA;AAAA,EAYI,YAAY,QACZ,EAAA;AAHA,IAAA,IAAA,CAAQ,cAAiB,GAAA,EAAA,CAAA;AAIrB,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAAA,GACpB;AAAA,EAEA,QAAQ,SACR,EAAA;AACI,IAAA,IAAI,KAAK,cAAmB,KAAA,SAAA;AAAW,MAAA,OAAA;AACvC,IAAA,IAAA,CAAK,cAAiB,GAAA,SAAA,CAAA;AAEtB,IAAA,IAAA,CAAK,SAAS,EAAG,CAAA,SAAA;AAAA,MACb,CAAC,EAAE,SAAY,GAAA,CAAA,CAAA;AAAA,MACf,CAAC,EAAE,SAAY,GAAA,CAAA,CAAA;AAAA,MACf,CAAC,EAAE,SAAY,GAAA,CAAA,CAAA;AAAA,MACf,CAAC,EAAE,SAAY,GAAA,CAAA,CAAA;AAAA,KACnB,CAAA;AAAA,GACJ;AAAA,EAEA,OACA,GAAA;AAAA,GAEA;AACJ,CAAA;AAAA;AAnCa,iBAAA,CAGF,SAAY,GAAA;AAAA,EACf,IAAM,EAAA;AAAA,IACF,aAAc,CAAA,WAAA;AAAA,GAClB;AAAA,EACA,IAAM,EAAA,WAAA;AACV,CAAA;;;;"}