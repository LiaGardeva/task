{"version":3,"file":"WebGLRenderer.js","sources":["../../../../src/rendering/renderers/gl/WebGLRenderer.ts"],"sourcesContent":["import { extensions, ExtensionType } from '../../../extensions/Extensions';\nimport { GlBatchAdaptor } from '../../batcher/gl/GlBatchAdaptor';\nimport { GlGraphicsAdaptor } from '../../graphics/gl/GlGraphicsAdaptor';\nimport { GlMeshAdaptor } from '../../mesh/gl/GlMeshAdaptor';\nimport { AbstractRenderer } from '../shared/system/AbstractRenderer';\nimport { SharedRenderPipes, SharedSystems } from '../shared/system/SharedSystems';\nimport { GlBufferSystem } from './buffer/GlBufferSystem';\nimport { GlContextSystem } from './context/GlContextSystem';\nimport { GlGeometrySystem } from './geometry/GlGeometrySystem';\nimport { GlBackBufferSystem } from './GlBackBufferSystem';\nimport { GlColorMaskSystem } from './GlColorMaskSystem';\nimport { GlEncoderSystem } from './GlEncoderSystem';\nimport { GlRenderTargetSystem } from './GlRenderTargetSystem';\nimport { GlStencilSystem } from './GlStencilSystem';\nimport { GlShaderSystem } from './shader/GlShaderSystem';\nimport { GlUniformGroupSystem } from './shader/GlUniformGroupSystem';\nimport { GlStateSystem } from './state/GlStateSystem';\nimport { GlTextureSystem } from './texture/GlTextureSystem';\n\nimport type { PipeConstructor } from '../shared/instructions/RenderPipe';\nimport type { SystemConstructor } from '../shared/system/System';\nimport type { ExtractRendererOptions, ExtractSystemTypes } from '../shared/system/utils/typeUtils';\nimport type { GlRenderingContext } from './context/GlRenderingContext';\n\nconst DefaultWebGLSystems = [\n    ...SharedSystems,\n    GlBackBufferSystem,\n    GlContextSystem,\n    GlBufferSystem,\n    GlTextureSystem,\n    GlRenderTargetSystem,\n    GlGeometrySystem,\n    GlUniformGroupSystem,\n    GlShaderSystem,\n    GlEncoderSystem,\n    GlStateSystem,\n    GlStencilSystem,\n    GlColorMaskSystem,\n];\nconst DefaultWebGLPipes = [...SharedRenderPipes];\nconst DefaultWebGLAdapters = [GlBatchAdaptor, GlMeshAdaptor, GlGraphicsAdaptor];\n\n// installed systems will bbe added to this array by the extensions manager..\nconst systems: { name: string; value: SystemConstructor }[] = [];\nconst renderPipes: { name: string; value: PipeConstructor }[] = [];\nconst renderPipeAdaptors: { name: string; value: any }[] = [];\n\nextensions.handleByNamedList(ExtensionType.WebGLSystem, systems);\nextensions.handleByNamedList(ExtensionType.WebGLPipes, renderPipes);\nextensions.handleByNamedList(ExtensionType.WebGLPipesAdaptor, renderPipeAdaptors);\n\n// add all the default systems as well as any user defined ones from the extensions\nextensions.add(...DefaultWebGLSystems, ...DefaultWebGLPipes, ...DefaultWebGLAdapters);\n\ntype WebGLSystems = ExtractSystemTypes<typeof DefaultWebGLSystems> &\nPixiMixins.RendererSystems &\nPixiMixins.WebGLSystems;\n\nexport type WebGLPipes = ExtractSystemTypes<typeof DefaultWebGLPipes> &\nPixiMixins.RendererPipes &\nPixiMixins.WebGLPipes;\n\nexport type WebGLOptions = ExtractRendererOptions<typeof DefaultWebGLSystems> &\nPixiMixins.RendererOptions &\nPixiMixins.WebGLOptions;\n\nexport interface WebGLRenderer extends AbstractRenderer<WebGLPipes, WebGLOptions>, WebGLSystems {}\nexport class WebGLRenderer extends AbstractRenderer<WebGLPipes, WebGLOptions> implements WebGLSystems\n{\n    gl: GlRenderingContext;\n\n    constructor()\n    {\n        const systemConfig = {\n            type: 'webgl2',\n            systems,\n            renderPipes,\n            renderPipeAdaptors,\n        };\n\n        super(systemConfig);\n    }\n}\n"],"names":["SharedSystems","GlBackBufferSystem","GlContextSystem","GlBufferSystem","GlTextureSystem","GlRenderTargetSystem","GlGeometrySystem","GlUniformGroupSystem","GlShaderSystem","GlEncoderSystem","GlStateSystem","GlStencilSystem","GlColorMaskSystem","SharedRenderPipes","GlBatchAdaptor","GlMeshAdaptor","GlGraphicsAdaptor","extensions","ExtensionType","AbstractRenderer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAwBA,MAAM,mBAAsB,GAAA;AAAA,EACxB,GAAGA,2BAAA;AAAA,EACHC,qCAAA;AAAA,EACAC,+BAAA;AAAA,EACAC,6BAAA;AAAA,EACAC,+BAAA;AAAA,EACAC,yCAAA;AAAA,EACAC,iCAAA;AAAA,EACAC,yCAAA;AAAA,EACAC,6BAAA;AAAA,EACAC,+BAAA;AAAA,EACAC,2BAAA;AAAA,EACAC,+BAAA;AAAA,EACAC,mCAAA;AACJ,CAAA,CAAA;AACA,MAAM,iBAAA,GAAoB,CAAC,GAAGC,+BAAiB,CAAA,CAAA;AAC/C,MAAM,oBAAuB,GAAA,CAACC,6BAAgB,EAAAC,2BAAA,EAAeC,mCAAiB,CAAA,CAAA;AAG9E,MAAM,UAAwD,EAAC,CAAA;AAC/D,MAAM,cAA0D,EAAC,CAAA;AACjE,MAAM,qBAAqD,EAAC,CAAA;AAE5DC,qBAAW,CAAA,iBAAA,CAAkBC,wBAAc,CAAA,WAAA,EAAa,OAAO,CAAA,CAAA;AAC/DD,qBAAW,CAAA,iBAAA,CAAkBC,wBAAc,CAAA,UAAA,EAAY,WAAW,CAAA,CAAA;AAClED,qBAAW,CAAA,iBAAA,CAAkBC,wBAAc,CAAA,iBAAA,EAAmB,kBAAkB,CAAA,CAAA;AAGhFD,qBAAA,CAAW,IAAI,GAAG,mBAAA,EAAqB,GAAG,iBAAA,EAAmB,GAAG,oBAAoB,CAAA,CAAA;AAe7E,MAAM,sBAAsBE,iCACnC,CAAA;AAAA,EAGI,WACA,GAAA;AACI,IAAA,MAAM,YAAe,GAAA;AAAA,MACjB,IAAM,EAAA,QAAA;AAAA,MACN,OAAA;AAAA,MACA,WAAA;AAAA,MACA,kBAAA;AAAA,KACJ,CAAA;AAEA,IAAA,KAAA,CAAM,YAAY,CAAA,CAAA;AAAA,GACtB;AACJ;;;;"}