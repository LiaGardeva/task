{"version":3,"file":"glUploadImageResource.js","sources":["../../../../../../src/rendering/renderers/gl/texture/uploaders/glUploadImageResource.ts"],"sourcesContent":["import type { CanvasSource } from '../../../shared/texture/sources/CanvasSource';\nimport type { ImageSource } from '../../../shared/texture/sources/ImageSource';\nimport type { GlRenderingContext } from '../../context/GlRenderingContext';\nimport type { GlTexture } from '../GlTexture';\nimport type { GLTextureUploader } from './GLTextureUploader';\n\nexport const glUploadImageResource = {\n\n    type: 'image',\n\n    upload(source: ImageSource | CanvasSource, glTexture: GlTexture, gl: GlRenderingContext)\n    {\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !(source.alphaMode === 0));\n\n        if (glTexture.width === source.width || glTexture.height === source.height)\n        {\n            gl.texSubImage2D(\n                gl.TEXTURE_2D,\n                0,\n                0,\n                0,\n                glTexture.format,\n                glTexture.type,\n                source.resource as TexImageSource\n            );\n        }\n        else\n        {\n            gl.texImage2D(\n                glTexture.target,\n                0,\n                glTexture.internalFormat,\n                source.pixelWidth,\n                source.pixelHeight,\n                0,\n                glTexture.format,\n                glTexture.type,\n                source.resource as TexImageSource\n            );\n        }\n\n        glTexture.width = source.pixelWidth;\n        glTexture.height = source.pixelHeight;\n    }\n} as GLTextureUploader;\n\n"],"names":[],"mappings":";;;;AAMO,MAAM,qBAAwB,GAAA;AAAA,EAEjC,IAAM,EAAA,OAAA;AAAA,EAEN,MAAA,CAAO,MAAoC,EAAA,SAAA,EAAsB,EACjE,EAAA;AACI,IAAA,EAAA,CAAG,YAAY,EAAG,CAAA,8BAAA,EAAgC,EAAE,MAAA,CAAO,cAAc,CAAE,CAAA,CAAA,CAAA;AAE3E,IAAA,IAAI,UAAU,KAAU,KAAA,MAAA,CAAO,SAAS,SAAU,CAAA,MAAA,KAAW,OAAO,MACpE,EAAA;AACI,MAAG,EAAA,CAAA,aAAA;AAAA,QACC,EAAG,CAAA,UAAA;AAAA,QACH,CAAA;AAAA,QACA,CAAA;AAAA,QACA,CAAA;AAAA,QACA,SAAU,CAAA,MAAA;AAAA,QACV,SAAU,CAAA,IAAA;AAAA,QACV,MAAO,CAAA,QAAA;AAAA,OACX,CAAA;AAAA,KAGJ,MAAA;AACI,MAAG,EAAA,CAAA,UAAA;AAAA,QACC,SAAU,CAAA,MAAA;AAAA,QACV,CAAA;AAAA,QACA,SAAU,CAAA,cAAA;AAAA,QACV,MAAO,CAAA,UAAA;AAAA,QACP,MAAO,CAAA,WAAA;AAAA,QACP,CAAA;AAAA,QACA,SAAU,CAAA,MAAA;AAAA,QACV,SAAU,CAAA,IAAA;AAAA,QACV,MAAO,CAAA,QAAA;AAAA,OACX,CAAA;AAAA,KACJ;AAEA,IAAA,SAAA,CAAU,QAAQ,MAAO,CAAA,UAAA,CAAA;AACzB,IAAA,SAAA,CAAU,SAAS,MAAO,CAAA,WAAA,CAAA;AAAA,GAC9B;AACJ;;;;"}