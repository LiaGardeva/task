{"version":3,"file":"gpuUploadImageSource.mjs","sources":["../../../../../../src/rendering/renderers/gpu/texture/uploaders/gpuUploadImageSource.ts"],"sourcesContent":["import type { ImageSource } from '../../../shared/texture/sources/ImageSource';\nimport type { GPU } from '../../GpuDeviceSystem';\nimport type { GpuTextureUploader } from './GpuTextureUploader';\n\nexport const gpuUploadImageResource = {\n\n    type: 'image',\n\n    upload(source: ImageSource, gpuTexture: GPUTexture, gpu: GPU)\n    {\n        const resource = source.resource as ImageBitmap | HTMLCanvasElement | OffscreenCanvas | HTMLVideoElement;\n\n        if (!resource) return;\n\n        const width = source.resource?.width || source.pixelWidth;\n        const height = source.resource?.height || source.pixelHeight;\n\n        gpu.device.queue.copyExternalImageToTexture(\n            { source: resource },\n            { texture: gpuTexture },\n            {\n                width,\n                height,\n            }\n        );\n    }\n} as GpuTextureUploader<ImageSource>;\n\n"],"names":[],"mappings":"AAIO,MAAM,sBAAyB,GAAA;AAAA,EAElC,IAAM,EAAA,OAAA;AAAA,EAEN,MAAA,CAAO,MAAqB,EAAA,UAAA,EAAwB,GACpD,EAAA;AACI,IAAA,MAAM,WAAW,MAAO,CAAA,QAAA,CAAA;AAExB,IAAA,IAAI,CAAC,QAAA;AAAU,MAAA,OAAA;AAEf,IAAA,MAAM,KAAQ,GAAA,MAAA,CAAO,QAAU,EAAA,KAAA,IAAS,MAAO,CAAA,UAAA,CAAA;AAC/C,IAAA,MAAM,MAAS,GAAA,MAAA,CAAO,QAAU,EAAA,MAAA,IAAU,MAAO,CAAA,WAAA,CAAA;AAEjD,IAAA,GAAA,CAAI,OAAO,KAAM,CAAA,0BAAA;AAAA,MACb,EAAE,QAAQ,QAAS,EAAA;AAAA,MACnB,EAAE,SAAS,UAAW,EAAA;AAAA,MACtB;AAAA,QACI,KAAA;AAAA,QACA,MAAA;AAAA,OACJ;AAAA,KACJ,CAAA;AAAA,GACJ;AACJ;;;;"}