{"version":3,"file":"ProxyRenderable.mjs","sources":["../../../../src/rendering/renderers/shared/ProxyRenderable.ts"],"sourcesContent":["import EventEmitter from 'eventemitter3';\nimport { getRenderableUID } from '../../scene/Container';\n\nimport type { Matrix } from '../../../maths/Matrix';\nimport type { Renderable } from './Renderable';\nimport type { View } from './View';\n\nexport interface ProxyOptions<T>\n{\n    original?: Renderable<any>;\n    view: T;\n}\n\nexport class ProxyRenderable<T extends View = View> extends EventEmitter implements Renderable<T>\n{\n    uid = getRenderableUID();\n    view: T;\n    original: Renderable<any>;\n    layerTransform: Matrix;\n    worldTransform: Matrix;\n    didViewUpdate = false;\n\n    constructor({ original, view }: ProxyOptions<T>)\n    {\n        super();\n\n        this.view = view;\n\n        if (original)\n        {\n            this.init(original);\n        }\n    }\n\n    init(original: Renderable<any>)\n    {\n        this.original = original;\n        this.layerTransform = original.layerTransform;\n    }\n\n    get layerColor()\n    {\n        return this.original.layerColor;\n    }\n\n    get layerBlendMode()\n    {\n        return this.original.layerBlendMode;\n    }\n\n    get layerVisibleRenderable()\n    {\n        return this.original.layerVisibleRenderable;\n    }\n\n    get isRenderable()\n    {\n        return this.original.isRenderable;\n    }\n}\n"],"names":[],"mappings":";;;AAaO,MAAM,wBAA+C,YAC5D,CAAA;AAAA,EAQI,WAAY,CAAA,EAAE,QAAU,EAAA,IAAA,EACxB,EAAA;AACI,IAAM,KAAA,EAAA,CAAA;AATV,IAAA,IAAA,CAAA,GAAA,GAAM,gBAAiB,EAAA,CAAA;AAKvB,IAAgB,IAAA,CAAA,aAAA,GAAA,KAAA,CAAA;AAMZ,IAAA,IAAA,CAAK,IAAO,GAAA,IAAA,CAAA;AAEZ,IAAA,IAAI,QACJ,EAAA;AACI,MAAA,IAAA,CAAK,KAAK,QAAQ,CAAA,CAAA;AAAA,KACtB;AAAA,GACJ;AAAA,EAEA,KAAK,QACL,EAAA;AACI,IAAA,IAAA,CAAK,QAAW,GAAA,QAAA,CAAA;AAChB,IAAA,IAAA,CAAK,iBAAiB,QAAS,CAAA,cAAA,CAAA;AAAA,GACnC;AAAA,EAEA,IAAI,UACJ,GAAA;AACI,IAAA,OAAO,KAAK,QAAS,CAAA,UAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,cACJ,GAAA;AACI,IAAA,OAAO,KAAK,QAAS,CAAA,cAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,sBACJ,GAAA;AACI,IAAA,OAAO,KAAK,QAAS,CAAA,sBAAA,CAAA;AAAA,GACzB;AAAA,EAEA,IAAI,YACJ,GAAA;AACI,IAAA,OAAO,KAAK,QAAS,CAAA,YAAA,CAAA;AAAA,GACzB;AACJ;;;;"}