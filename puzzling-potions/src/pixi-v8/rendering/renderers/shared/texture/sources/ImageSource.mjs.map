{"version":3,"file":"ImageSource.mjs","sources":["../../../../../../src/rendering/renderers/shared/texture/sources/ImageSource.ts"],"sourcesContent":["import { settings } from '../../../../../settings/settings';\nimport { NOOP } from '../../../../../utils/NOOP';\nimport { Texture } from '../Texture';\nimport { TextureSource } from './TextureSource';\n\nimport type { ICanvas } from '../../../../../settings/adapter/ICanvas';\nimport type { ALPHA_MODES } from '../const';\nimport type { TextureSourceOptions } from './TextureSource';\n\ntype ImageResource = ImageBitmap | HTMLCanvasElement | OffscreenCanvas | ICanvas;\n\nexport interface ImageSourceOptions extends TextureSourceOptions<ImageResource>\n{\n    alphaMode?: ALPHA_MODES;\n}\n\nexport class ImageSource extends TextureSource<ImageResource>\n{\n    type = 'image';\n\n    alphaMode?: ALPHA_MODES;\n\n    constructor(options: ImageSourceOptions)\n    {\n        super(options);\n\n        this.alphaMode = options.alphaMode ?? 0;\n    }\n}\n\n// create a white canvas\nconst canvas = settings.ADAPTER.createCanvas();\n\nconst size = 1;\n\ncanvas.width = size;\ncanvas.height = size;\n\nconst ctx = canvas.getContext('2d');\n\nctx.fillStyle = '#ffffff';\nctx.fillRect(0, 0, size, size);\n\n// draw red triangle\nctx.beginPath();\nctx.moveTo(0, 0);\nctx.lineTo(size, 0);\nctx.lineTo(size, size);\nctx.closePath();\nctx.fillStyle = '#ffffff';\nctx.fill();\n\nTexture.WHITE = new Texture({\n    source: new ImageSource({\n        resource: canvas,\n    }),\n});\n\nTexture.WHITE.label = 'WHITE';\nTexture.WHITE.destroy = NOOP;\n"],"names":[],"mappings":";;;;;AAgBO,MAAM,oBAAoB,aACjC,CAAA;AAAA,EAKI,YAAY,OACZ,EAAA;AACI,IAAA,KAAA,CAAM,OAAO,CAAA,CAAA;AANjB,IAAO,IAAA,CAAA,IAAA,GAAA,OAAA,CAAA;AAQH,IAAK,IAAA,CAAA,SAAA,GAAY,QAAQ,SAAa,IAAA,CAAA,CAAA;AAAA,GAC1C;AACJ,CAAA;AAGA,MAAM,MAAA,GAAS,QAAS,CAAA,OAAA,CAAQ,YAAa,EAAA,CAAA;AAE7C,MAAM,IAAO,GAAA,CAAA,CAAA;AAEb,MAAA,CAAO,KAAQ,GAAA,IAAA,CAAA;AACf,MAAA,CAAO,MAAS,GAAA,IAAA,CAAA;AAEhB,MAAM,GAAA,GAAM,MAAO,CAAA,UAAA,CAAW,IAAI,CAAA,CAAA;AAElC,GAAA,CAAI,SAAY,GAAA,SAAA,CAAA;AAChB,GAAA,CAAI,QAAS,CAAA,CAAA,EAAG,CAAG,EAAA,IAAA,EAAM,IAAI,CAAA,CAAA;AAG7B,GAAA,CAAI,SAAU,EAAA,CAAA;AACd,GAAI,CAAA,MAAA,CAAO,GAAG,CAAC,CAAA,CAAA;AACf,GAAI,CAAA,MAAA,CAAO,MAAM,CAAC,CAAA,CAAA;AAClB,GAAI,CAAA,MAAA,CAAO,MAAM,IAAI,CAAA,CAAA;AACrB,GAAA,CAAI,SAAU,EAAA,CAAA;AACd,GAAA,CAAI,SAAY,GAAA,SAAA,CAAA;AAChB,GAAA,CAAI,IAAK,EAAA,CAAA;AAET,OAAQ,CAAA,KAAA,GAAQ,IAAI,OAAQ,CAAA;AAAA,EACxB,MAAA,EAAQ,IAAI,WAAY,CAAA;AAAA,IACpB,QAAU,EAAA,MAAA;AAAA,GACb,CAAA;AACL,CAAC,CAAA,CAAA;AAED,OAAA,CAAQ,MAAM,KAAQ,GAAA,OAAA,CAAA;AACtB,OAAA,CAAQ,MAAM,OAAU,GAAA,IAAA;;;;"}